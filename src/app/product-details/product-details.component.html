<section>
    <div>
        <app-header  [item]="cartProduct.length"></app-header>
    </div>
    <div>
        <div class="p-4 flex gap-4">
            <div class="w-6 border-round-xs">
                <div class="keen-slider border-round" #sliderRef>
                        <div class="keen-slider__slide number-slide">
                            <img [src]="singleProductData.images[0]" [alt]="singleProductData.brand">
                        </div>
                    <!-- <div class="keen-slider__slide number-slide"><img src="assets/images/logo.svg" alt=""></div>
                    <div class="keen-slider__slide number-slide">3</div>
                    <div class="keen-slider__slide number-slide">4</div>
                    <div class="keen-slider__slide number-slide">5</div>
                    <div class="keen-slider__slide number-slide">6</div> -->
                  </div>
            </div>
            <div class="w-6 py-2">
                <h1 class="mb-3 text-5xl font-bold">{{ singleProductData.title | uppercase}}</h1>
                <p-rating [(ngModel)]="singleProductData.rating" [readonly]="true" [cancel]="false" />
                <div class="my-2 flex align-items-center gap-2">
                    <h1><span>{{singleProductData.price | currency}}</span><span class="ml-2" style="color: #b3b3b3;">$300</span> </h1>
                    <small style="padding: 5px; color: #fff; background-color: #FF3333; border-radius: 50px;">{{singleProductData.discountPercentage}}</small>
                </div>
                <p style="color: #b3b3b3;">{{singleProductData.description}}</p>
                <p-divider />
                <div class="flex justify-content-between">
                    <div>
                        <span>Select Colors</span>
                        <span style="width: 30px; height: 30px; margin-top: 15px; padding: 5px; display: block; outline: 2px solid #FF3333; outline-offset: 2px; border-radius: 50%; background-color: red;"></span>
                    </div>
                    <div class="flex align-items-center">
                        <h4>Currently availability : </h4>
                        <p-chip [label]="singleProductData.availabilityStatus" />
                    </div>
                </div>
                <p-divider />
                <div>
                    <span>Choose Size</span>
                    <div class="mt-3 flex align-items-center gap-2 flex-wrap">
                        <p-chip label="Small" />
                        <p-chip label="Medium"/>
                        <p-chip label="Large"/>
                        <p-chip label="X-Large" [removable]="true" />
                    </div>
                </div>
                <p-divider />
                <div class="flex gap-5">
                    <div class="flex gap-2">
                        <p-button icon="pi pi-minus" [rounded]="true" [text]="true" [raised]="true" severity="contrast " (onClick)="addCardDecrease()" />
                        <input type="text" pInputText style="width: 50px; text-align: center;" [(ngModel)]="addProductValue" />
                        <p-button icon="pi pi-plus" [rounded]="true" [text]="true" [raised]="true" severity="contrast " (onClick)="addCardIncreament($event)" />
                    </div>
                    <p-button
                        type="button" 
                        label="Add to Cart"
                        (onClick)="addCardItem()"
                        severity="contrast" />
                </div>
            </div>
        </div>
        <div>
            <p-tabView class="flex justify-content-between">
                <p-tabPanel header="Product Details">
                    <p>
                        Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo
                        consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.
                    </p>
                </p-tabPanel>
                <p-tabPanel header="Rating & Reviews">
                    <div class="mb-5 flex justify-content-between">
                        <h1>All Reviews</h1>
                        <p-dropdown 
                            [options]="reviewStatus"
                            [(ngModel)]="selectedReviewStatus"
                            (onChange)="onDropdownChange($event)" 
                            optionLabel="name" 
                            placeholder="Review" />
                    </div>
                    <div class="flex gap-4">
                        @for (reviewItem of singleProductData.reviews; track $index) {
                            @if ( showReview || $index < 2) {
                                <div class="card flex">
                                    <p-card >
                                        <ng-template pTemplate="header">
                                            <div class="p-4 pb-0">
                                                <p-rating [(ngModel)]="reviewItem.rating" [readonly]="true" [cancel]="false" />
                                            </div>
                                        </ng-template>
                                        <div>
                                            <h4 class="mb-3">{{reviewItem.reviewerName}}</h4>
                                            <p>{{reviewItem.comment}}</p>
                                            <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Inventore sed consequuntur error repudiandae numquam deserunt quisquam repellat libero asperiores earum nam nobis, culpa ratione quam perferendis esse, cupiditate neque
                                                quas!</p>
                                        </div>
                                        <ng-template pTemplate="footer">
                                            <span>{{reviewItem.date}}</span>
                                        </ng-template>
                                    </p-card>
                                </div>
                            }
                        }
                        
                    </div>
                    <div class="p-2 flex justify-content-end">
                        <button pButton pRipple label="Show More" class="p-button-success" *ngIf="singleProductData.reviews.length > 2 && !showReview" (click)="showReview = true"> </button>
                        <button *ngIf="showReview" pButton type="button" (click)="showReview = false" label="Show Less"></button>
                    </div>
                </p-tabPanel>
                <p-tabPanel header="FAQs">
                    <p>
                        At vero eos et accusamus et iusto odio dignissimos ducimus qui blanditiis praesentium voluptatum deleniti atque corrupti quos dolores et quas molestias excepturi sint occaecati cupiditate non provident, similique sunt in culpa
                        qui officia deserunt mollitia animi, id est laborum et dolorum fuga. Et harum quidem rerum facilis est et expedita distinctio. Nam libero tempore, cum soluta nobis est eligendi optio cumque nihil impedit quo minus.
                    </p>
                </p-tabPanel>
            </p-tabView>
        </div>      
    </div>
</section>